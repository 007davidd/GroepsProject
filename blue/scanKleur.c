#pragma config(Sensor, S1,     sensorColor,    sensorColorNxtFULL)
#pragma config(Motor,  motorA,          MotorLinks,    tmotorNXT, PIDControl, encoder)
#pragma config(Motor,  motorB,           ,             tmotorNXT, openLoop)
#pragma config(Motor,  motorC,          MotorRechts,   tmotorNXT, PIDControl)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

int speedR = 0;
int speedL = 0;
string vorigekleur = "";

task rij(){

	while(speedR < 30 && speedL < 30){
		speedR = speedR +5;
		speedL = speedL +5;
		motor[MotorRechts]=speedR;
		motor[MotorLinks]=speedL;

		wait1Msec(50);
	}
}

task leesKleur(){                             //deze task leest de sensor in en houd bij wanneer er een verandering in kleur op treed
	while(true){																// als er een verandering optreed wordt dit bijgehouden
			//int a = SensorValue[sensorColor];
			eraseDisplay();
			//displayBigTextLine(1, "sensorV = %d ", a);

			string sColor;

			switch(SensorValue[sensorColor]){

						case 0:
								sColor = "Black";
								if(vorigekleur == "Black"){
									//kleur is zelfde als in geen nieuw blokje gevonden
							  }
							  else{
							  	 playTone(soundBlip);  //indicatie er is een nieuwe kleur gevonden
							  	 /*
							  	 		hier moet de kleur toegevoegd worden aan de queue

							  	 */

							  	 vorigekleur == "Black"; // zet de vorige kleur gelijk aan de huidige kleur
							  }
								break;
						case 2:
								sColor = "Blue";
								if(vorigekleur == "Blue"){
									//kleur is zelfde als in geen nieuw blokje gevonden
							  }
							  else{
							  	 playTone(soundBlip);  //indicatie er is een nieuwe kleur gevonden
							  	 vorigekleur == "Blue"; // zet de vorige kleur gelijk aan de huidige kleur
							  }
								break;
						case 4:
								sColor = "Green";
								if(vorigekleur == "Green"){
									//kleur is zelfde als in geen nieuw blokje gevonden
							  }
							  else{
							  	 playTone(soundBlip);  //indicatie er is een nieuwe kleur gevonden
							  	 vorigekleur == "Green"; // zet de vorige kleur gelijk aan de huidige kleur
							  }
								break;
						case 6:
								sColor = "Yellow";
								if(vorigekleur == "Yellow"){
									//kleur is zelfde als in geen nieuw blokje gevonden
							  }
							  else{
							  	 playTone(soundBlip);  //indicatie er is een nieuwe kleur gevonden
							  	 vorigekleur == "Yellow"; // zet de vorige kleur gelijk aan de huidige kleur
							  }
								break;
						case 8:
								sColor = "Red";
								if(vorigekleur == "Red"){
									//kleur is zelfde als in geen nieuw blokje gevonden
							  }
							  else{
							  	 playTone(soundBlip);  //indicatie er is een nieuwe kleur gevonden
							  	 vorigekleur == "Red"; // zet de vorige kleur gelijk aan de huidige kleur
							  }
								break;
						case 17:
								sColor = "White";
								if(vorigekleur == "White"){
									//kleur is zelfde als in geen nieuw blokje gevonden
							  }
							  else{
							  	 playTone(soundBlip);  //indicatie er is een nieuwe kleur gevonden
							  	 vorigekleur == "White"; // zet de vorige kleur gelijk aan de huidige kleur
							  }
								break;
						default:
								sColor = "???";
								if(vorigekleur == "???"){
									//kleur is zelfde als in geen nieuw blokje gevonden
							  }
							  else{
							  	 playTone(soundBlip);  //indicatie er is een nieuwe kleur gevonden
							  	 vorigekleur == "???"; // zet de vorige kleur gelijk aan de huidige kleur
							  }
								break;
 			}

	  	nxtDisplayCenteredTextLine(2, sColor);
    	wait1Msec(50);

  }
}

task main()
{
	 startTask(rij);
   startTask(leesKleur);
}
