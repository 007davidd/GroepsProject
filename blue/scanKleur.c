#pragma config(Sensor, S1,     sensorColor,    sensorColorNxtFULL)
#pragma config(Motor,  motorA,          MotorLinks,    tmotorNXT, PIDControl, encoder)
#pragma config(Motor,  motorB,           ,             tmotorNXT, openLoop)
#pragma config(Motor,  motorC,          MotorRechts,   tmotorNXT, PIDControl)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

//string startcolor = Red;
int speedR = 0;
int speedL = 0;
string vorigekleur = "";
int array[20];
int len = 7;
int x=0;

task rij(){

	wait1Msec(100);

	while(speedR < 100 && speedL < 100){
		speedR = speedR +5;
		speedL = speedL +5;
		motor[MotorRechts]=speedR;
		motor[MotorLinks]=speedL;

		wait1Msec(50);
	}
}

task leesKleur(){                             //deze task leest de sensor in en houd bij wanneer er een verandering in kleur op treed
	while(true){																// als er een verandering optreed wordt dit bijgehouden
		eraseDisplay();
		string sColor;

		switch(SensorValue[sensorColor]){
		case 0:
			sColor = "Black";
			if(vorigekleur == "Black"){
				//kleur is zelfde als in geen nieuw blokje gevonden
			}
			else{
				vorigekleur = "Black";																//	hier moet de kleur toegevoegd worden aan de queue
				// zet de vorige kleur gelijk aan de huidige kleur
			}
			break;

		case 2:
		case 3:
			sColor = "Blue";
			if(vorigekleur == "Blue"){

			}
			else{
				vorigekleur = "Blue";
				if(x<len){
					array[x] = 30;
					x++;

				}
			}
			break;


		case 4:
			sColor = "Yellow";
			if(vorigekleur == "Yellow"){

			}
			else{
				vorigekleur = "Yellow";
				if(x<len){
					array[x] = 20;
					x++;
				}
			}
			break;

		case 5:
			sColor = "Red";
			if(vorigekleur == "Red"){

			}
			else{
				vorigekleur = "Red";
				if(x<len){
					array[x] = 10;
					x++;
				}
			}
			break;

		case 6:
			sColor = "White";
			if(vorigekleur == "White"){

			}
			else{
				vorigekleur = "White";
			}
			break;

			/*
			default:
			sColor = "???";
			if(vorigekleur == "???"){
			//kleur is zelfde als in geen nieuw blokje gevonden
			}
			else{
			playTone(soundBlip);  //indicatie er is een nieuwe kleur gevonden
			vorigekleur = "???"; // zet de vorige kleur gelijk aan de huidige kleur
			}
			break; */

		}

		nxtDisplayCenteredTextLine(2, sColor);

	}
}

task main()
{
	startTask(rij);
	startTask(leesKleur);
	while(true){}
}

//rood is 10
//blauw is 30
//geel is 20
